#include<bits/stdc++.h>
#include<algorithm>
using namespace std;
#define ll long long
#define endl '\n'
#define cy cout << "YES\n"
#define cn cout << "NO\n"
#define nl "\n"
#define ar(v) v.begin(), v.end()
#define rar(v) v.rbegin(), v.rend()
#define fl(k,g) for(ll i=k;i<g;i++)
#define fl2(o,p) for(ll j=o;j<p;j++)
#define pb   push_back
#define pob  pop_back
int main()
{  ios_base::sync_with_stdio(false);
   cin.tie(nullptr);
   ll n;   cin>>n;
   while(n--){
    ll x;       cin>>x;
    	vector<ll>v(x);
    	fl(0,x){
    		cin>>v[i];
    	}
       vector<ll>t=v;
    	sort(ar(t));
 
    	if(v==t)cout<<0<<nl;
 
    	else if(v[0]==1 || v[x-1]==x)
             cout<<1<<nl;
 
        else if(v[0]==x && v[x-1]==1)
            cout<<3<<nl;
 
    	else
    	cout<<2<<nl;
 
 
 
   }
}
